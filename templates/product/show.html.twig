{% extends 'base.html.twig' %}

{% block title %}{{ product.name }}{% endblock %}

{% block body %}
<div style="max-width:1100px; margin:40px auto; padding:0 20px;">

    <h1 style="margin-bottom:25px;">{{ product.name }}</h1>

    <div style="display:flex; gap:40px; align-items:flex-start;">

        {# Image à gauche #}
        <div style="flex:1;">
            {% if product.image %}
                <img src="{{ asset(product.image) }}"
                     alt="{{ product.name }}"
                     style="width:100%; max-width:520px; border-radius:10px; border:1px solid #ddd;">
            {% else %}
                <div style="width:100%; max-width:520px; height:420px; border-radius:10px; border:1px solid #ddd;
                            display:flex; align-items:center; justify-content:center;">
                    Pas d'image
                </div>
            {% endif %}
        </div>

        {# Infos à droite #}
        <div style="flex:1;">

            <p style="font-size:20px; margin:0 0 10px 0;">
                <strong>{{ product.price }} €</strong>
            </p>

            {% if app.user %}
                <form method="post" action="{{ path('cart_add', { id: product.id }) }}">
                    <label for="size" style="display:block; margin-top:15px; margin-bottom:8px;">
                        <strong>Taille</strong>
                    </label>

                    <select name="size" id="size"
                            style="padding:10px; width:180px; border-radius:8px; border:1px solid #ccc;">
                        <option value="XS">XS</option>
                        <option value="S">S</option>
                        <option value="M" selected>M</option>
                        <option value="L">L</option>
                        <option value="XL">XL</option>
                    </select>

                    <div style="margin-top:20px;">
                        <button type="submit"
                                style="padding:12px 18px; border:none; border-radius:8px;
                                       background:#222; color:#fff; cursor:pointer;">
                            AJOUTER AU PANIER
                        </button>
                    </div>
                </form>
            {% else %}
                <p style="margin-top:20px;">
                    <a href="{{ path('app_login') }}">Connecte-toi</a> pour ajouter au panier.
                </p>
            {% endif %}

            <p style="margin-top:30px;">
                <a href="{{ path('app_products') }}">← Retour boutique</a>
            </p>
        </div>

    </div>
</div>
{% endblock %}
